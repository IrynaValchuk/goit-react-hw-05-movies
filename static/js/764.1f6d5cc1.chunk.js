"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[764],{764:function(t,e,r){r.r(e);var n=r(861),a=r(439),c=r(757),u=r.n(c),o=r(759),i=r(791),s=r(87),p=r(689),f=r(596),h=r(666),l=r(83),m=r(184);e.default=function(){var t,e=(0,i.useState)([]),r=(0,a.Z)(e,2),c=r[0],d=r[1],v=(0,i.useState)(""),x=(0,a.Z)(v,2),g=x[0],w=x[1],k=(0,i.useState)(!1),y=(0,a.Z)(k,2),b=y[0],_=y[1],Z=(0,s.lr)(),j=(0,a.Z)(Z,2),N=j[0],S=j[1],A=(0,p.TH)(),C=null!==(t=N.get("movieName"))&&void 0!==t?t:"";return(0,i.useEffect)((function(){C&&(0,n.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.next=3,(0,o.gH)(C);case 3:if(0!==(e=t.sent).length){t.next=10;break}return f.Am.error("Sorry, there are no movies matching your search query. Please try again."),S({}),d([]),w(""),t.abrupt("return");case 10:d(e);case 11:case"end":return t.stop()}}),t)})))().catch((function(t){return f.Am.error("".concat(t.message))})).finally((function(){return _(!1)}))}),[C,S]),(0,m.jsxs)("div",{className:"container",children:[(0,m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==g?S({movieName:g}):f.Am.error("Please enter a value")},className:"searchForm",children:[(0,m.jsx)("input",{type:"text",value:g,className:"searchFormInput",placeholder:"Search movies",onChange:function(t){var e=t.target.value;w(e)}}),(0,m.jsx)("button",{type:"submit",className:"searchFormButton",children:"Search"})]}),b&&(0,m.jsx)(h.a,{}),(0,m.jsx)("ul",{className:"list",children:c.map((function(t){var e=t.id,r=t.title,n=t.poster_path;return(0,m.jsx)("li",{className:"item",children:(0,m.jsxs)(s.rU,{className:"link",to:"".concat(e),state:{from:A},children:[(0,m.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w300/".concat(n):l,width:"350px",height:"500px",alt:r}),(0,m.jsx)("p",{className:"subTitle",children:r})]})},e)}))})]})}},759:function(t,e,r){r.d(e,{Pg:function(){return h},M1:function(){return l},tx:function(){return m},_L:function(){return p},gH:function(){return f}});var n=r(861),a=r(757),c=r.n(a),u=r(243),o="https://api.themoviedb.org/3",i="01293fbdb6ddf6c5485f2ddd9eccd7b8",s=function(t){return t.map((function(t){return{id:t.id,title:t.title,poster_path:t.poster_path}}))},p=function(){var t=(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/trending/movie/day?api_key=").concat(i)).then((function(t){var e=t.data;return s(e.results)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e)).then((function(t){var e=t.data;return s(e.results)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(i)).then((function(t){var e,r=t.data;return{title:(e=r).title,poster_path:e.poster_path,genres:e.genres,overview:e.overview,rating:e.vote_average}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i)).then((function(t){var e=t.data;return e.cast.map((function(t){return{id:t.id,name:t.name,character:t.character,profile_path:t.profile_path}}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i)).then((function(t){var e=t.data;return e.results.map((function(t){return{id:t.id,author:t.author,content:t.content}}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},83:function(t,e,r){t.exports=r.p+"static/media/default-img.42ccfac293cfe8fe887a.jpg"}}]);
//# sourceMappingURL=764.1f6d5cc1.chunk.js.map
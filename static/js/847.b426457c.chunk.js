"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[847],{847:function(t,n,e){e.r(n);var r=e(861),c=e(439),a=e(757),i=e.n(a),u=e(791),s=e(689),o=e(87),p=e(599),f=e(666),l=e(83),d=e(184);n.default=function(){var t,n,e=(0,s.UO)().movieId,a=(0,u.useState)([]),h=(0,c.Z)(a,2),v=h[0],x=v.title,m=v.poster_path,w=v.genres,g=v.overview,j=v.rating,k=h[1],_=(0,s.TH)(),b=(0,u.useRef)(null!==(t=null===(n=_.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/");return(0,u.useEffect)((function(){(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Pg)(e);case 2:n=t.sent,k(n);case 4:case"end":return t.stop()}}),t)})))().catch((function(t){return console.log(t)}))}),[e]),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)(o.rU,{to:b.current,className:"btn",children:"Go back"}),(0,d.jsxs)("div",{className:"box",children:[(0,d.jsx)("img",{src:m?"https://image.tmdb.org/t/p/w300/".concat(m):l,width:"350px",height:"500px",alt:x}),(0,d.jsxs)("div",{className:"wrap",children:[(0,d.jsx)("h2",{children:x}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"User Score: "}),Math.round(10*j),"%"]}),(0,d.jsx)("h3",{children:"Overview"}),(0,d.jsx)("p",{children:g}),(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("ul",{className:"listGenres",children:w&&w.map((function(t){var n=t.id,e=t.name;return(0,d.jsx)("li",{children:e},n)}))})]})]}),(0,d.jsx)("h3",{children:"Additional information"}),(0,d.jsxs)("ul",{className:"listSub",children:[(0,d.jsx)("li",{children:(0,d.jsx)(o.OL,{to:"cast",className:"linkSub",children:"Cast"})}),(0,d.jsx)("li",{children:(0,d.jsx)(o.OL,{to:"reviews",className:"linkSub",children:"Reviews"})})]}),(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(f.a,{}),children:(0,d.jsx)(s.j3,{})})]})}},599:function(t,n,e){e.d(n,{M1:function(){return r.M1},Pg:function(){return r.Pg},_L:function(){return r._L},tx:function(){return r.tx}});var r=e(759)},759:function(t,n,e){e.d(n,{Pg:function(){return l},M1:function(){return d},tx:function(){return h},_L:function(){return p},gH:function(){return f}});var r=e(861),c=e(757),a=e.n(c),i=e(243),u="https://api.themoviedb.org/3",s="01293fbdb6ddf6c5485f2ddd9eccd7b8",o=function(t){return t.map((function(t){return{id:t.id,title:t.title,poster_path:t.poster_path}}))},p=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"/trending/movie/day?api_key=").concat(s)).then((function(t){var n=t.data;return o(n.results)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"/search/movie?api_key=").concat(s,"&query=").concat(n)).then((function(t){var n=t.data;return o(n.results)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"/movie/").concat(n,"?api_key=").concat(s)).then((function(t){var n,e=t.data;return{title:(n=e).title,poster_path:n.poster_path,genres:n.genres,overview:n.overview,rating:n.vote_average}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"/movie/").concat(n,"/credits?api_key=").concat(s)).then((function(t){var n=t.data;return n.cast.map((function(t){return{id:t.id,name:t.name,character:t.character,profile_path:t.profile_path}}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"/movie/").concat(n,"/reviews?api_key=").concat(s)).then((function(t){var n=t.data;return n.results.map((function(t){return{id:t.id,author:t.author,content:t.content}}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},83:function(t,n,e){t.exports=e.p+"static/media/default-img.42ccfac293cfe8fe887a.jpg"}}]);
//# sourceMappingURL=847.b426457c.chunk.js.map